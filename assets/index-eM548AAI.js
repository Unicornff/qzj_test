import{N as k,P,a as b,j as S,n as j,C as E,c as U,g,o as _,_ as y,e as I,w as B,h as z,q as J}from"./index-BBVKY95c.js";var L={exports:{}};(function(h,d){(function(m,l){h.exports=l()})(P,function(){function m(o){var r=[];return o.AMapUI&&r.push(l(o.AMapUI)),o.Loca&&r.push(t(o.Loca)),Promise.all(r)}function l(o){return new Promise(function(r,a){var p=[];if(o.plugins)for(var i=0;i<o.plugins.length;i+=1)e.AMapUI.plugins.indexOf(o.plugins[i])==-1&&p.push(o.plugins[i]);if(u.AMapUI===n.failed)a("前次请求 AMapUI 失败");else if(u.AMapUI===n.notload){u.AMapUI=n.loading,e.AMapUI.version=o.version||e.AMapUI.version,i=e.AMapUI.version;var A=document.body||document.head,f=document.createElement("script");f.type="text/javascript",f.src="https://webapi.amap.com/ui/"+i+"/main.js",f.onerror=function(s){u.AMapUI=n.failed,a("请求 AMapUI 失败")},f.onload=function(){if(u.AMapUI=n.loaded,p.length)window.AMapUI.loadUI(p,function(){for(var s=0,M=p.length;s<M;s++){var w=p[s].split("/").slice(-1)[0];window.AMapUI[w]=arguments[s]}for(r();c.AMapUI.length;)c.AMapUI.splice(0,1)[0]()});else for(r();c.AMapUI.length;)c.AMapUI.splice(0,1)[0]()},A.appendChild(f)}else u.AMapUI===n.loaded?o.version&&o.version!==e.AMapUI.version?a("不允许多个版本 AMapUI 混用"):p.length?window.AMapUI.loadUI(p,function(){for(var s=0,M=p.length;s<M;s++){var w=p[s].split("/").slice(-1)[0];window.AMapUI[w]=arguments[s]}r()}):r():o.version&&o.version!==e.AMapUI.version?a("不允许多个版本 AMapUI 混用"):c.AMapUI.push(function(s){s?a(s):p.length?window.AMapUI.loadUI(p,function(){for(var M=0,w=p.length;M<w;M++){var C=p[M].split("/").slice(-1)[0];window.AMapUI[C]=arguments[M]}r()}):r()})})}function t(o){return new Promise(function(r,a){if(u.Loca===n.failed)a("前次请求 Loca 失败");else if(u.Loca===n.notload){u.Loca=n.loading,e.Loca.version=o.version||e.Loca.version;var p=e.Loca.version,i=e.AMap.version.startsWith("2"),A=p.startsWith("2");if(i&&!A||!i&&A)a("JSAPI 与 Loca 版本不对应！！");else{i=e.key,A=document.body||document.head;var f=document.createElement("script");f.type="text/javascript",f.src="https://webapi.amap.com/loca?v="+p+"&key="+i,f.onerror=function(s){u.Loca=n.failed,a("请求 AMapUI 失败")},f.onload=function(){for(u.Loca=n.loaded,r();c.Loca.length;)c.Loca.splice(0,1)[0]()},A.appendChild(f)}}else u.Loca===n.loaded?o.version&&o.version!==e.Loca.version?a("不允许多个版本 Loca 混用"):r():o.version&&o.version!==e.Loca.version?a("不允许多个版本 Loca 混用"):c.Loca.push(function(s){s?a(s):a()})})}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var n;(function(o){o.notload="notload",o.loading="loading",o.loaded="loaded",o.failed="failed"})(n||(n={}));var e={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},u={AMap:n.notload,AMapUI:n.notload,Loca:n.notload},c={AMapUI:[],Loca:[]},v=[],x=function(o){typeof o=="function"&&(u.AMap===n.loaded?o(window.AMap):v.push(o))};return{load:function(o){return new Promise(function(r,a){if(u.AMap==n.failed)a("");else if(u.AMap==n.notload){var p=o.key,i=o.version,A=o.plugins;p?(window.AMap&&location.host!=="lbs.amap.com"&&a("禁止多种API加载方式混用"),e.key=p,e.AMap.version=i||e.AMap.version,e.AMap.plugins=A||e.AMap.plugins,u.AMap=n.loading,i=document.body||document.head,window.___onAPILoaded=function(s){if(delete window.___onAPILoaded,s)u.AMap=n.failed,a(s);else for(u.AMap=n.loaded,m(o).then(function(){r(window.AMap)}).catch(a);v.length;)v.splice(0,1)[0]()},A=document.createElement("script"),A.type="text/javascript",A.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+e.AMap.version+"&key="+p+"&plugin="+e.AMap.plugins.join(","),A.onerror=function(s){u.AMap=n.failed,a(s)},i.appendChild(A)):a("请填写key")}else if(u.AMap==n.loaded)if(o.key&&o.key!==e.key)a("多个不一致的 key");else if(o.version&&o.version!==e.AMap.version)a("不允许多个版本 JSAPI 混用");else{if(p=[],o.plugins)for(i=0;i<o.plugins.length;i+=1)e.AMap.plugins.indexOf(o.plugins[i])==-1&&p.push(o.plugins[i]);p.length?window.AMap.plugin(p,function(){m(o).then(function(){r(window.AMap)}).catch(a)}):m(o).then(function(){r(window.AMap)}).catch(a)}else if(o.key&&o.key!==e.key)a("多个不一致的 key");else if(o.version&&o.version!==e.AMap.version)a("不允许多个版本 JSAPI 混用");else{var f=[];if(o.plugins)for(i=0;i<o.plugins.length;i+=1)e.AMap.plugins.indexOf(o.plugins[i])==-1&&f.push(o.plugins[i]);x(function(){f.length?window.AMap.plugin(f,function(){m(o).then(function(){r(window.AMap)}).catch(a)}):m(o).then(function(){r(window.AMap)}).catch(a)})}})},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,e={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},u={AMap:n.notload,AMapUI:n.notload,Loca:n.notload},c={AMap:[],AMapUI:[],Loca:[]}}}})})(L);var O=L.exports;const N=k(O),T={class:"full-size"},G=b({name:"Map",__name:"Map",setup(h){let d=S(null);window._AMapSecurityConfig={securityJsCode:"f1830c78f2da55b4784613baa3def039"},j(()=>{m()}),E(()=>{d==null||d.destroy()});const m=()=>{N.load({key:"6975cfc045bc135c3c4936525fd1912f",version:"2.0",plugins:["AMap.Scale"]}).then(l=>{d=new l.Map("map",{viewMode:"3D",zoom:11}),l.plugin(["AMap.ToolBar","AMap.Scale","AMap.HawkEye","AMap.ControlBar","AMap.MapType","AMap.Geolocation","AMap.ContextMenu","AMap.AutoComplete","AMap.PlaceSearch"],function(){d.addControl(new l.ControlBar({position:{top:"10px",right:"10px"}})),d.addControl(new l.HawkEye),d.addControl(new l.Geolocation({position:{bottom:"160px",left:"20px"}})),d.addControl(new l.ToolBar({position:{bottom:"80px",left:"21px"}})),d.addControl(new l.Scale({position:{bottom:"35px",left:"20px"}}));let t=null,n=null;d.on("rightclick",function(c){n==null||n.close();let v=null;t=new l.ContextMenu({isOpen:!1}),t==null||t.addItem("放大一级",function(){d.zoomIn()},0),t==null||t.addItem("缩小一级",function(){d.zoomOut()},1),t==null||t.addItem("缩放至全国范围",function(){d.setZoomAndCenter(4,[108.946609,34.262324])},2),t==null||t.addItem("添加标记",function(){new l.Marker({map:d,position:v})},3),t==null||t.open(d,c.lnglat),v=c.lnglat}),d.on("click",function(c){t==null||t.close();let v=[];v.push(`<div class='input-card content-window-card'><div><img style="float:left;width:67px;height:16px;" src=" https://webapi.amap.com/images/autonavi.png "/></div> `),v.push('<div style="padding:7px 0px 0px 0px;"><h4>高德软件</h4>'),v.push("<p class='input-item'>电话 : 010-84107000   邮编 : 100102</p>"),v.push("<p class='input-item'>地址 :北京市朝阳区望京阜荣街10号首开广场4层</p></div></div>"),n=new l.InfoWindow({content:v.join("")}),n==null||n.open(d,c.lnglat)});let e=new l.AutoComplete({input:"input_map"}),u=new l.PlaceSearch({map:d});e.on("select",function(c){u.setCity(c.poi.adcode),u.search(c.poi.name)})})}).catch(l=>{console.log(l)})};return(l,t)=>(_(),U("div",T,t[0]||(t[0]=[g("div",null,[g("span",null,"关键字查询位置："),g("input",{id:"input_map",placeholder:"请输入搜索内容"})],-1),g("div",{id:"map"},null,-1)])))}}),V=y(G,[["__scopeId","data-v-3bc1f858"]]),q={class:"full-size box-padding box-bg-color"},D=b({name:"",__name:"index",setup(h){return(d,m)=>{const l=z("el-link");return _(),U("div",q,[I(l,{type:"primary",underline:"never",href:"https://lbs.amap.com/",target:"_blank"},{default:B(()=>m[0]||(m[0]=[J("高德地图官网链接")])),_:1}),I(V,{class:"map-content"})])}}}),$=y(D,[["__scopeId","data-v-74a97617"]]);export{$ as default};
