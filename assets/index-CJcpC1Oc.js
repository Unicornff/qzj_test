import{a as p,j as c,n as g,y as M,A as y,R as w,c as _,o as h,E as R,G as b,I as E,Q as $,_ as x,g as f,e as I,w as B,F as L,r as S,t as D,M as z}from"./index-BBVKY95c.js";const F=p({__name:"RightClickMenu",setup(C,{expose:l}){const s=c(!1),e=c({x:0,y:0}),i=c(null),t=c(null);g(()=>{document.addEventListener("mousedown",o)}),M(()=>{document.removeEventListener("mousedown",o)});function o(n){const a=n.target;if(!s.value)return;const r=n.button===0,d=t.value&&t.value.contains(a),v=i.value&&i.value.contains(a);(r&&!v||!r&&!d)&&m()}const u=n=>{t.value=n},k=n=>{n.preventDefault(),s.value=!0,e.value={x:n.clientX,y:n.clientY},$(()=>{if(i.value){const{offsetWidth:a,offsetHeight:r}=i.value,{clientWidth:d,clientHeight:v}=document.documentElement;e.value.x+a>d&&(e.value.x=e.value.x-a),e.value.y+r>v&&(e.value.y=e.value.y-r)}})},m=()=>{s.value=!1};return l({showMenu:k,hideMenu:m,setContainer:u}),(n,a)=>y((h(),_("div",{ref_key:"rightClickMenu",ref:i,class:"right-click-menu",style:b({top:`${e.value.y}px`,left:`${e.value.x}px`}),onContextmenu:a[0]||(a[0]=R(()=>{},["prevent"]))},[E(n.$slots,"default",{},void 0,!0)],36)),[[w,s.value]])}}),G=x(F,[["__scopeId","data-v-95bd1602"]]),H={class:"full-size box-bg-color"},N={class:"menu-container"},V=["onClick"],W=p({__name:"index",setup(C){const l=c(),s=c();g(()=>{var t;l.value&&((t=s.value)==null||t.setContainer(l.value))});const e=t=>{var o;(o=s.value)==null||o.showMenu(t)},i=t=>{var o;z.success(`你点击了第${t}项`),(o=s.value)==null||o.hideMenu()};return(t,o)=>(h(),_("div",H,[f("div",{ref_key:"containerRef",ref:l,class:"can-right-click-container",onContextmenu:e},[I(G,{ref_key:"rightClickMenu",ref:s},{default:B(()=>[f("div",N,[(h(),_(L,null,S(5,u=>f("div",{class:"menu-item",key:u,onClick:k=>i(u)},D(u),9,V)),64))])]),_:1},512)],544)]))}}),A=x(W,[["__scopeId","data-v-8462d57e"]]);export{A as default};
