import{a as y,j as v,D as n,n as S,Q as V,y as w,U as B,h as z,c as d,o as l,p as _,G as m,g as p,b as D,f as N,F as T,r as M,I as U,_ as b,e as A,w as E,t as x}from"./index-CFNvAuOJ.js";const F=y({name:"VirtualList",__name:"VirtualList",props:{data:{type:Array,required:!0},itemHeight:{type:Number,default:50}},setup(h){const e=h;let s=null;const a=v(null),o=v(0),r=v(0),H=n(()=>Math.ceil(o.value/e.itemHeight)),c=n(()=>Math.floor(r.value/e.itemHeight)),k=n(()=>c.value+H.value);S(()=>{V(()=>{var i;const t=(i=a.value)==null?void 0:i.parentElement;t&&(s=new ResizeObserver(()=>{o.value=t.clientHeight}),s.observe(t),o.value=t.clientHeight)})}),w(()=>{s&&(s.disconnect(),s=null)});const C=n(()=>e.data.slice(c.value,k.value)),I=n(()=>e.data.length*e.itemHeight),g=B.lodashThrottle(t=>{r.value=t.target.scrollTop},30),$=t=>({position:"absolute",top:`${(c.value+t)*e.itemHeight}px`,width:"100%",height:`${e.itemHeight}px`});return(t,i)=>{const L=z("el-empty");return l(),d("div",{ref_key:"virtualListContainer",ref:a,class:"virtual-list",style:m({height:`${o.value}px`,overflowY:"auto"}),onScroll:i[0]||(i[0]=(...u)=>_(g)&&_(g)(...u))},[p("div",{style:m({height:`${I.value}px`,position:"relative"})},[(l(!0),d(T,null,M(C.value,(u,f)=>(l(),d("div",{key:u.id,style:m($(f)),class:"virtual-list-item"},[U(t.$slots,"item",{item:u,index:c.value+f},void 0,!0)],4))),128))],4),e.data.length?N("",!0):(l(),D(L,{key:0,description:"无数据"}))],36)}}}),O=b(F,[["__scopeId","data-v-6d268055"]]),j={class:"full-size box-padding box-bg-color"},q={class:"list-item"},G={class:"item-index"},Q={class:"item-text"},R=y({__name:"index",setup(h){const e=Array.from({length:500},(s,a)=>({id:a,text:`Item ${a+1}`}));return(s,a)=>(l(),d("div",j,[A(O,{data:_(e)},{item:E(({item:o,index:r})=>[p("div",q,[p("div",G,x(r+1)+".",1),p("div",Q,x(o.text),1)])]),_:1},8,["data"])]))}}),J=b(R,[["__scopeId","data-v-009bc5a4"]]);export{J as default};
