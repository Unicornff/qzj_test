import{S as z,P as y,W as j,O as R,c as u,T as h,d as p,a as _}from"./OrbitControls-C1lQsQxq.js";import{a as b,j as B,n as C,y as D,c as E,g as w,o as P,_ as S}from"./index-BBVKY95c.js";const W="/qzj_test/assets/earth-DjYqMKyF.jpeg",q="/qzj_test/assets/moon-D4pY2e7s.jpeg",F={class:"full-size flex-box flex-column"},L={class:"bottom"},k=b({__name:"index",setup(H){const e=B(null);let i=null,n=null,t=null,r=null,o=null,l=null,c;C(()=>{f(),window.addEventListener("resize",m)}),D(()=>{window.removeEventListener("resize",m),c&&cancelAnimationFrame(c),t&&t.dispose()});const f=()=>{if(e.value){i=new z,n=new y(75,e.value.clientWidth/e.value.clientHeight,.1,1e3),t=new j({antialias:!0}),t.setPixelRatio(window.devicePixelRatio),t.setSize(e.value.clientWidth,e.value.clientHeight),e.value.appendChild(t.domElement),l=new R(n,t.domElement),l.enableDamping=!0;const a=new u(8),s=new u(2),v=new h().load(W),x=new h().load(q),g=new p({map:v}),M=new p({map:x});r=new _(a,g),o=new _(s,M),o.position.x=15,i.add(r,o),n.position.set(0,0,20),d()}},d=()=>{l.update(),r.rotation.y+=.01,o.position.x=Math.cos(1*Date.now()/1e3)*15,o.position.z=Math.sin(1*Date.now()/1e3)*15,o.rotation.y+=.03,c=requestAnimationFrame(d),t.render(i,n)},m=()=>{if(e.value&&t&&n){const a=e.value.clientWidth,s=e.value.clientHeight;t.setSize(a,s),n.aspect=a/s,n.updateProjectionMatrix()}};return(a,s)=>(P(),E("div",F,[w("div",L,[w("div",{class:"three-content",ref_key:"earthMoonRef",ref:e},null,512)])]))}}),G=S(k,[["__scopeId","data-v-846cc1e8"]]);export{G as default};
