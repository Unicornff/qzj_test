import{N as k,L as P,a as b,k as S,n as E,z as j,o as U,c as _,h as g,_ as y,i as I,w as B,r as J,q as O}from"./index-DD5jmKwl.js";var L={exports:{}};(function(h,d){(function(v,l){h.exports=l()})(k,function(){function v(o){var r=[];return o.AMapUI&&r.push(l(o.AMapUI)),o.Loca&&r.push(t(o.Loca)),Promise.all(r)}function l(o){return new Promise(function(r,a){var u=[];if(o.plugins)for(var i=0;i<o.plugins.length;i+=1)e.AMapUI.plugins.indexOf(o.plugins[i])==-1&&u.push(o.plugins[i]);if(p.AMapUI===n.failed)a("前次请求 AMapUI 失败");else if(p.AMapUI===n.notload){p.AMapUI=n.loading,e.AMapUI.version=o.version||e.AMapUI.version,i=e.AMapUI.version;var A=document.body||document.head,f=document.createElement("script");f.type="text/javascript",f.src="https://webapi.amap.com/ui/"+i+"/main.js",f.onerror=function(s){p.AMapUI=n.failed,a("请求 AMapUI 失败")},f.onload=function(){if(p.AMapUI=n.loaded,u.length)window.AMapUI.loadUI(u,function(){for(var s=0,M=u.length;s<M;s++){var w=u[s].split("/").slice(-1)[0];window.AMapUI[w]=arguments[s]}for(r();c.AMapUI.length;)c.AMapUI.splice(0,1)[0]()});else for(r();c.AMapUI.length;)c.AMapUI.splice(0,1)[0]()},A.appendChild(f)}else p.AMapUI===n.loaded?o.version&&o.version!==e.AMapUI.version?a("不允许多个版本 AMapUI 混用"):u.length?window.AMapUI.loadUI(u,function(){for(var s=0,M=u.length;s<M;s++){var w=u[s].split("/").slice(-1)[0];window.AMapUI[w]=arguments[s]}r()}):r():o.version&&o.version!==e.AMapUI.version?a("不允许多个版本 AMapUI 混用"):c.AMapUI.push(function(s){s?a(s):u.length?window.AMapUI.loadUI(u,function(){for(var M=0,w=u.length;M<w;M++){var C=u[M].split("/").slice(-1)[0];window.AMapUI[C]=arguments[M]}r()}):r()})})}function t(o){return new Promise(function(r,a){if(p.Loca===n.failed)a("前次请求 Loca 失败");else if(p.Loca===n.notload){p.Loca=n.loading,e.Loca.version=o.version||e.Loca.version;var u=e.Loca.version,i=e.AMap.version.startsWith("2"),A=u.startsWith("2");if(i&&!A||!i&&A)a("JSAPI 与 Loca 版本不对应！！");else{i=e.key,A=document.body||document.head;var f=document.createElement("script");f.type="text/javascript",f.src="https://webapi.amap.com/loca?v="+u+"&key="+i,f.onerror=function(s){p.Loca=n.failed,a("请求 AMapUI 失败")},f.onload=function(){for(p.Loca=n.loaded,r();c.Loca.length;)c.Loca.splice(0,1)[0]()},A.appendChild(f)}}else p.Loca===n.loaded?o.version&&o.version!==e.Loca.version?a("不允许多个版本 Loca 混用"):r():o.version&&o.version!==e.Loca.version?a("不允许多个版本 Loca 混用"):c.Loca.push(function(s){s?a(s):a()})})}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var n;(function(o){o.notload="notload",o.loading="loading",o.loaded="loaded",o.failed="failed"})(n||(n={}));var e={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},p={AMap:n.notload,AMapUI:n.notload,Loca:n.notload},c={AMap:[],AMapUI:[],Loca:[]},m=[],x=function(o){typeof o=="function"&&(p.AMap===n.loaded?o(window.AMap):m.push(o))};return{load:function(o){return new Promise(function(r,a){if(p.AMap==n.failed)a("");else if(p.AMap==n.notload){var u=o.key,i=o.version,A=o.plugins;u?(window.AMap&&location.host!=="lbs.amap.com"&&a("禁止多种API加载方式混用"),e.key=u,e.AMap.version=i||e.AMap.version,e.AMap.plugins=A||e.AMap.plugins,p.AMap=n.loading,i=document.body||document.head,window.___onAPILoaded=function(s){if(delete window.___onAPILoaded,s)p.AMap=n.failed,a(s);else for(p.AMap=n.loaded,v(o).then(function(){r(window.AMap)}).catch(a);m.length;)m.splice(0,1)[0]()},A=document.createElement("script"),A.type="text/javascript",A.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+e.AMap.version+"&key="+u+"&plugin="+e.AMap.plugins.join(","),A.onerror=function(s){p.AMap=n.failed,a(s)},i.appendChild(A)):a("请填写key")}else if(p.AMap==n.loaded)if(o.key&&o.key!==e.key)a("多个不一致的 key");else if(o.version&&o.version!==e.AMap.version)a("不允许多个版本 JSAPI 混用");else{if(u=[],o.plugins)for(i=0;i<o.plugins.length;i+=1)e.AMap.plugins.indexOf(o.plugins[i])==-1&&u.push(o.plugins[i]);u.length?window.AMap.plugin(u,function(){v(o).then(function(){r(window.AMap)}).catch(a)}):v(o).then(function(){r(window.AMap)}).catch(a)}else if(o.key&&o.key!==e.key)a("多个不一致的 key");else if(o.version&&o.version!==e.AMap.version)a("不允许多个版本 JSAPI 混用");else{var f=[];if(o.plugins)for(i=0;i<o.plugins.length;i+=1)e.AMap.plugins.indexOf(o.plugins[i])==-1&&f.push(o.plugins[i]);x(function(){f.length?window.AMap.plugin(f,function(){v(o).then(function(){r(window.AMap)}).catch(a)}):v(o).then(function(){r(window.AMap)}).catch(a)})}})},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,e={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},p={AMap:n.notload,AMapUI:n.notload,Loca:n.notload},c={AMap:[],AMapUI:[],Loca:[]}}}})})(L);var z=L.exports;const N=P(z),T={class:"main-container"},G=b({name:"Map",__name:"Map",setup(h){let d=S(null);window._AMapSecurityConfig={securityJsCode:"f1830c78f2da55b4784613baa3def039"},E(()=>{v()}),j(()=>{d==null||d.destroy()});const v=()=>{N.load({key:"6975cfc045bc135c3c4936525fd1912f",version:"2.0",plugins:["AMap.Scale"]}).then(l=>{d=new l.Map("map",{viewMode:"3D",zoom:11}),l.plugin(["AMap.ToolBar","AMap.Scale","AMap.HawkEye","AMap.ControlBar","AMap.MapType","AMap.Geolocation","AMap.ContextMenu","AMap.AutoComplete","AMap.PlaceSearch"],function(){d.addControl(new l.ControlBar({position:{top:"10px",right:"10px"}})),d.addControl(new l.HawkEye),d.addControl(new l.Geolocation({position:{bottom:"160px",left:"20px"}})),d.addControl(new l.ToolBar({position:{bottom:"80px",left:"21px"}})),d.addControl(new l.Scale({position:{bottom:"35px",left:"20px"}}));let t=null,n=null;d.on("rightclick",function(c){n==null||n.close();let m=null;t=new l.ContextMenu({isOpen:!1}),t==null||t.addItem("放大一级",function(){d.zoomIn()},0),t==null||t.addItem("缩小一级",function(){d.zoomOut()},1),t==null||t.addItem("缩放至全国范围",function(){d.setZoomAndCenter(4,[108.946609,34.262324])},2),t==null||t.addItem("添加标记",function(){new l.Marker({map:d,position:m})},3),t==null||t.open(d,c.lnglat),m=c.lnglat}),d.on("click",function(c){t==null||t.close();let m=[];m.push(`<div class='input-card content-window-card'><div><img style="float:left;width:67px;height:16px;" src=" https://webapi.amap.com/images/autonavi.png "/></div> `),m.push('<div style="padding:7px 0px 0px 0px;"><h4>高德软件</h4>'),m.push("<p class='input-item'>电话 : 010-84107000   邮编 : 100102</p>"),m.push("<p class='input-item'>地址 :北京市朝阳区望京阜荣街10号首开广场4层</p></div></div>"),n=new l.InfoWindow({content:m.join("")}),n==null||n.open(d,c.lnglat)});let e=new l.AutoComplete({input:"input_map"}),p=new l.PlaceSearch({map:d});e.on("select",function(c){p.setCity(c.poi.adcode),p.search(c.poi.name)})})}).catch(l=>{console.log(l)})};return(l,t)=>(U(),_("div",T,t[0]||(t[0]=[g("div",null,[g("span",null,"关键字查询位置："),g("input",{id:"input_map",placeholder:"请输入搜索内容"})],-1),g("div",{id:"map"},null,-1)])))}}),V=y(G,[["__scopeId","data-v-f9589143"]]),q={class:"main-container box-padding box-bg-color"},D=b({name:"",__name:"index",setup(h){return(d,v)=>{const l=J("el-link");return U(),_("div",q,[I(l,{type:"primary",underline:!1,href:"https://lbs.amap.com/",target:"_blank"},{default:B(()=>v[0]||(v[0]=[O("高德地图官网链接")])),_:1}),I(V,{class:"map-content"})])}}}),$=y(D,[["__scopeId","data-v-f4c51f4c"]]);export{$ as default};
